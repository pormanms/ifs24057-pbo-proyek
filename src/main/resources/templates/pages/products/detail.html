<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layouts/base :: layout(~{::title}, ~{::section}, ~{::script})}">
<head>
    <title>Detail Produk</title>
</head>
<body>
<section>
    <div class="container py-2">
        <!-- Kartu Detail -->
        <div class="card shadow-sm border-0 mx-auto" style="max-width: 900px;">
            <div class="card-header bg-primary text-white py-3 d-flex justify-content-between align-items-center">
                <h5 class="mb-0"><i class="fas fa-info-circle me-2"></i>Detail Produk</h5>
                <small class="opacity-75" th:text="'ID: ' + ${product.id}"></small>
            </div>
            
            <div class="card-body p-4">
                <div class="row g-4">
                    <!-- KOLOM KIRI: GAMBAR -->
                    <div class="col-md-5 text-center">
                        <div class="p-2 border rounded bg-light">
                            <img th:if="${product.image}" th:src="@{'/uploads/' + ${product.image}}" 
                                 class="img-fluid rounded shadow-sm" 
                                 style="max-height: 400px; width: 100%; object-fit: cover;" 
                                 alt="Gambar Produk">
                            
                            <div th:unless="${product.image}" class="py-5 text-muted">
                                <i class="fas fa-image fa-4x mb-3"></i>
                                <p>Tidak ada gambar tersedia</p>
                            </div>
                        </div>
                    </div>

                    <!-- KOLOM KANAN: INFORMASI -->
                    <div class="col-md-7">
                        <h2 th:text="${product.name}" class="fw-bold text-dark mb-2">Nama Produk</h2>
                        
                        <div class="mb-4">
                            <span class="badge bg-secondary fs-6 rounded-pill px-3" th:text="${product.category}">Kategori</span>
                        </div>

                        <div class="p-3 bg-light rounded mb-4 border">
                            <div class="row">
                                <div class="col-6 border-end">
                                    <small class="text-muted text-uppercase fw-bold">Harga</small>
                                    <h3 class="text-success fw-bold mb-0" 
                                        th:text="'Rp ' + ${#numbers.formatDecimal(product.price, 0, 'COMMA', 0, 'POINT')}">
                                    </h3>
                                </div>
                                <div class="col-6 ps-4">
                                    <small class="text-muted text-uppercase fw-bold">Stok Gudang</small>
                                    <h3 class="text-dark fw-bold mb-0" th:text="${product.stock} + ' Unit'"></h3>
                                </div>
                            </div>
                        </div>

                        <h6 class="text-muted text-uppercase fw-bold border-bottom pb-2">Deskripsi</h6>
                        <p class="text-secondary" th:text="${product.description ?: 'Tidak ada deskripsi untuk produk ini.'}"></p>

                        <div class="mt-4 pt-3 border-top text-muted small">
                            <i class="far fa-clock me-1"></i> Ditambahkan pada: 
                            <span th:text="${#temporals.format(product.createdAt, 'dd MMMM yyyy HH:mm')}"></span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Footer Tombol -->
            <div class="card-footer bg-light py-3 d-flex justify-content-between">
                <a th:href="@{/products}" class="btn btn-secondary px-4">
                    <i class="fas fa-arrow-left me-2"></i>Kembali
                </a>
                
                <div class="d-flex gap-2">
                    <a th:href="@{/products/edit/{id}(id=${product.id})}" class="btn btn-warning text-white px-4">
                        <i class="fas fa-edit me-2"></i>Edit
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<script></script>
</body>
</html>